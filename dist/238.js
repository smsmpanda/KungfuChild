"use strict";(self.webpackChunkkungfutypescriptdevtemplate=self.webpackChunkkungfutypescriptdevtemplate||[]).push([[238],{972:(e,t,i)=>{i.d(t,{Z:()=>a});var s=i(81),n=i.n(s),o=i(645),r=i.n(o)()(n());r.push([e.id,".app {\n  border: 2px solid #000;\n  border-radius: 3px;\n  box-sizing: border-box;\n  width: 700px;\n  height: 450px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: #000;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: #fff;\n}\n.snake-stage {\n  width: 650px;\n  height: 360px;\n  margin: 15px;\n  position: relative;\n  border: 1px solid #000;\n  background-color: #141f33;\n}\n.snake-stage > .snake-food {\n  width: 10px;\n  height: 10px;\n  position: absolute;\n  left: 40px;\n  top: 40px;\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n  align-content: space-between;\n  background-color: transparent;\n}\n.snake-stage > .snake-food > div {\n  width: 4px;\n  height: 4px;\n  background: #000;\n  transform: rotate(45deg);\n  background-color: #fff;\n}\n.snake {\n  width: 10px;\n  height: 10px;\n  background-color: #000;\n  border: 1px solid #b7d4a8;\n  position: absolute;\n  box-sizing: border-box;\n  top: 0;\n  left: 0;\n  border-radius: 2px;\n}\n.snake-score-panel {\n  width: 100%;\n  flex: 1;\n  background-color: #1e211c;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  font-size: 20px;\n}\n.snake-wrap {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n",""]);const a=r},238:(e,t,i)=>{i.r(t),i.d(t,{default:()=>B});var s=i(252);const n=(0,s.uE)('<div class="app"><div class="snake-stage" id="stage"><div id="snake" class="snake-wrap"><div class="snake"></div></div><div class="snake-food" id="food"><div></div><div></div><div></div><div></div></div></div><div class="snake-score-panel"><div class="snake-counter"> SCORE: <span id="score">0</span></div><div class="snake-counter" id="level"> LEVEL: <span id="level">1</span></div></div></div>',1);var o=i(379),r=i.n(o),a=i(795),d=i.n(a),h=i(569),l=i.n(h),c=i(565),p=i.n(c),f=i(216),g=i.n(f),u=i(589),m=i.n(u),v=i(972),k={};k.styleTagTransform=m(),k.setAttributes=p(),k.insert=l().bind(null,"head"),k.domAPI=d(),k.insertStyleElement=g(),r()(v.Z,k),v.Z&&v.Z.locals&&v.Z.locals;class w{constructor(){this.width=10,this.height=10,this.foodPlaceStep=10,this.stage=document.getElementById("stage"),this.foodElement=document.getElementById("food"),w.WidthLimit=this.stage.clientWidth,w.HeightLimit=this.stage.clientHeight}get X(){return this.foodElement.offsetLeft}get Y(){return this.foodElement.offsetTop}change(){let e=Math.round(Math.random()*(w.WidthLimit-this.width)/this.foodPlaceStep)*this.foodPlaceStep,t=Math.round(Math.random()*(w.HeightLimit-this.height)/this.foodPlaceStep)*this.foodPlaceStep;this.foodElement.style.left=`${e}px`,this.foodElement.style.top=`${t}px`}}w.WidthLimit=0,w.HeightLimit=0;const b=w;class x{constructor(){this.limitWidth=0,this.limitHeight=0,this.head=document.querySelector("#snake > div"),this.bodies=document.getElementById("snake").getElementsByTagName("div"),this.wrap=document.getElementById("snake"),this.limitWidth=b.WidthLimit-this.head.clientWidth,this.limitHeight=b.HeightLimit-this.head.clientHeight}get X(){return this.head.offsetLeft}get Y(){return this.head.offsetTop}set X(e){if(this.X!==e){if(e<0||e>this.limitWidth)throw new Error("GAME OVER");this.moveBody(),this.head.style.left=`${e}px`,this.collisionDetection()}}set Y(e){if(this.Y!==e){if(e<0||e>this.limitHeight)throw new Error("GAME OVER");this.moveBody(),this.head.style.top=`${e}px`,this.collisionDetection()}}appendBody(){this.wrap.insertAdjacentHTML("beforeend","<div class='snake'></div>"),this.Growth||(this.Growth=!0)}moveBody(){for(let e=this.bodies.length-1;e>0;e--){const t=this.bodies[e-1].offsetLeft,i=this.bodies[e-1].offsetTop;this.bodies[e].style.left=`${t}px`,this.bodies[e].style.top=`${i}px`}}collisionDetection(){for(let e=1;e<this.bodies.length;e++){const t=this.bodies[e];if(this.X===t.offsetLeft&&this.Y===t.offsetTop)throw new Error("撞到自己了..")}}}class y{constructor(e=10,t=1){this.Score=0,this.Level=1,this.maxLevel=e,this.upgradeStep=t,this.scoreHtmlElement=document.getElementById("score"),this.levelHtmlElement=document.getElementById("level")}addScore(){this.Score+=1,this.Score%this.upgradeStep==0&&this.levelUpGrade(),this.scoreHtmlElement.innerText=`${this.Score}`}levelUpGrade(){this.Level>this.maxLevel?alert("太棒了！你已达到巅峰王者."):(this.Level+=1,this.levelHtmlElement.innerText=`${this.Level}`)}}class L{constructor(){this.isLive=!0,this.food=new b,this.snake=new x,this.scorePanel=new y}init(){document.addEventListener("keydown",this.keydownHandler.bind(this)),this.run()}keydownHandler(e){this.snake.Growth&&("ArrowDown"==this.direction&&"ArrowUp"===e.key||"ArrowUp"==this.direction&&"ArrowDown"===e.key||"ArrowLeft"==this.direction&&"ArrowRight"===e.key||"ArrowRight"==this.direction&&"ArrowLeft"===e.key)?console.log("n"):this.direction=e.key}run(){let e=this.snake.X,t=this.snake.Y;switch(this.direction){case"ArrowUp":t-=10;break;case"ArrowDown":t+=10;break;case"ArrowLeft":e-=10;break;case"ArrowRight":e+=10}this.checkEat(e,t);try{this.snake.X=e,this.snake.Y=t}catch(e){alert(e.message),this.isLive=!1}this.isLive&&setTimeout(this.run.bind(this),300-30*(this.scorePanel.Level-1))}checkEat(e,t){e===this.food.X&&t===this.food.Y&&(this.snake.appendBody(),this.scorePanel.addScore(),this.food.change())}}var E,A=i(861);class H{}E=H,H.APIBaseUri="https://api.apiopen.top",H.APIGetDoorList=`${E.APIBaseUri}/api/getHaoKanVideo`;class P{GetDoorsList(){A.Z.get(H.APIGetDoorList,{params:{page:0,size:2}}).then((function(e){console.log(null==e?void 0:e.data)})).catch((function(e){console.log(e)}))}}const S=(0,s.aZ)({name:"Gluttony",setup:()=>((0,s.bv)((()=>{(new L).init()})),{getOpenAPI:function(){(new P).GetDoorsList()}})}),B=(0,i(744).Z)(S,[["render",function(e,t,i,o,r,a){return(0,s.wg)(),(0,s.iD)(s.HY,null,[n,(0,s._)("div",null,[(0,s._)("button",{id:"start",onClick:t[0]||(t[0]=(...t)=>e.getOpenAPI&&e.getOpenAPI(...t))},"点击开始")])],64)}]])}}]);